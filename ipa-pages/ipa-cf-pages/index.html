<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>英语音标学习页（IPA）</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div>
        <h1>英语音标学习（IPA）</h1>
        <p class="subtitle">按分类整理 · 点击播放 · 支持英音/美音 · 练习模式</p>
      </div>
      <button id="toggleThemeBtn" class="ghost-btn" type="button">🌙</button>
    </header>

    <main>
      <section class="panel">
        <div class="panel-row">
          <label class="search-wrap" for="searchInput">
            <span>🔎</span>
            <input id="searchInput" type="search" placeholder="搜索音标 / 单词（如 iː, ship）" />
          </label>
          <button id="replayBtn" class="primary-btn" type="button" disabled>重播上一个</button>
        </div>

        <div class="control-row">
          <label class="select-wrap" for="accentSelect">
            <span>发音</span>
            <select id="accentSelect">
              <option value="uk">🇬🇧 英音（UK）</option>
              <option value="us">🇺🇸 美音（US）</option>
            </select>
          </label>
          <button id="quizToggleBtn" class="ghost-btn" type="button">🎯 开始练习</button>
        </div>

        <div class="view-row">
          <button id="groupViewBtn" class="ghost-btn is-active" type="button">分类卡片</button>
          <button id="listViewBtn" class="ghost-btn" type="button">完整列表</button>
        </div>

        <p id="tip" class="tip">
          音频目录建议：<code>./audio/ipa/uk/</code> 和 <code>./audio/ipa/us/</code>。若未找到，会自动尝试旧目录 <code>./audio/ipa/</code>，最后用语音合成兜底。
        </p>
      </section>

      <section id="quizPanel" class="panel quiz-panel hidden" aria-live="polite">
        <div class="quiz-head">
          <h2>听音选音标</h2>
          <div class="quiz-score">得分：<span id="quizScore">0</span> / <span id="quizTotal">0</span></div>
        </div>
        <div class="quiz-actions">
          <button id="quizPlayBtn" class="primary-btn" type="button">🔊 播放题目</button>
          <button id="quizNextBtn" class="ghost-btn" type="button">下一题</button>
          <button id="quizStopBtn" class="ghost-btn" type="button">结束练习</button>
        </div>
        <div id="quizOptions" class="quiz-options"></div>
        <p id="quizFeedback" class="quiz-feedback"></p>
      </section>

      <section id="content"></section>

      <section id="listOverview" class="panel hidden">
        <h2 class="group-title">完整音标总览</h2>
        <div id="listContainer" class="ipa-list"></div>
      </section>
    </main>

    <template id="groupTemplate">
      <section class="group">
        <div class="group-title-wrap">
          <h2 class="group-title"></h2>
          <span class="group-count"></span>
        </div>
        <div class="card-grid"></div>
      </section>
    </template>

    <template id="cardTemplate">
      <article class="ipa-card" role="button" tabindex="0">
        <div class="ipa-symbol"></div>
        <div class="ipa-meta">
          <div class="ipa-example"></div>
          <div class="ipa-note"></div>
        </div>
        <button class="play-btn" type="button" aria-label="播放音频">▶</button>
      </article>
    </template>

    <footer class="footer">
      <p>可直接上传到 Cloudflare Pages（静态页面）。</p>
    </footer>

    <script src="./app.js" type="module"></script>
  </body>
</html>
